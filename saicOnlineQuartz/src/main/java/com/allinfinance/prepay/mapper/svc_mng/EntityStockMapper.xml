<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.allinfinance.prepay.mapper.svc_mng.EntityStockMapper" >
  <resultMap id="BaseResultMap" type="com.allinfinance.prepay.model.EntityStock" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    <result column="CARD_NO" property="cardNo" jdbcType="VARCHAR" />
    <result column="ENTITY_ID" property="entityId" jdbcType="VARCHAR" />
    <result column="FUNCTION_ROLE_ID" property="functionRoleId" jdbcType="VARCHAR" />
    <result column="PRODUCT_ID" property="productId" jdbcType="VARCHAR" />
    <result column="CARD_LAYOUT_ID" property="cardLayoutId" jdbcType="VARCHAR" />
    <result column="FACE_VALUE_TYPE" property="faceValueType" jdbcType="CHAR" />
    <result column="FACE_VALUE" property="faceValue" jdbcType="VARCHAR" />
    <result column="CARD_VALID_DATE" property="cardValidDate" jdbcType="CHAR" />
    <result column="STOCK_STATE" property="stockState" jdbcType="VARCHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="CHAR" />
    <result column="MODIFY_USER" property="modifyUser" jdbcType="VARCHAR" />
    <result column="MODIFY_TIME" property="modifyTime" jdbcType="CHAR" />
    <result column="DATA_STATE" property="dataState" jdbcType="CHAR" />
    <result column="IS_USED" property="isUsed" jdbcType="CHAR" />
    <result column="FLD_01_RES_DATA" property="fld01ResData" jdbcType="VARCHAR" />
    <result column="FLD_02_RES_DATA" property="fld02ResData" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    CARD_NO, ENTITY_ID, FUNCTION_ROLE_ID, PRODUCT_ID, CARD_LAYOUT_ID, FACE_VALUE_TYPE, 
    FACE_VALUE, CARD_VALID_DATE, STOCK_STATE, CREATE_USER, CREATE_TIME, MODIFY_USER, 
    MODIFY_TIME, DATA_STATE, IS_USED, FLD_01_RES_DATA, FLD_02_RES_DATA
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.allinfinance.prepay.model.EntityStockExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from SVC_MNG.TB_ENTITY_STOCK
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.allinfinance.prepay.model.EntityStockExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    delete from SVC_MNG.TB_ENTITY_STOCK
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  
   <select id="selectStockByProductId" parameterType="com.allinfinance.univer.seller.order.dto.OrderReadyDTO" resultType="java.util.HashMap">
	 	select  a.product_id as "productId", 
				a.product_name as "productName", 
				decode(b.face_value_type,'0','固定','1','非固定') as "faceValueType",
			    count(b.card_No) as "stockNumber",
			    b.FUNCTION_ROLE_ID as "functionRoleId"
			from 
				    tb_product a left join tb_entity_stock b on a.product_id = b.product_id left join tb_card_layout c on b.card_layout_id = c.card_layout_id 
			where 
				    a.data_state = '1'
			      and b.data_state = '1'
			      and b.stock_state = '1' 
			      and c.data_state = '1'
			      and b.FUNCTION_ROLE_ID = '3'
			      and  b.ENTITY_ID =#{defaultEntityId,jdbcType=VARCHAR}
			      and a.product_id=#{productId,jdbcType=VARCHAR}
			      and b.face_value_type=#{faceValueType,jdbcType=VARCHAR}
			      and b.face_value=#{faceValue,jdbcType=VARCHAR}
			      group by   a.product_id , a.product_name  ,  b.FUNCTION_ROLE_ID  ,b.face_value_type
			      ,b.face_value
			order by a.product_id,a.product_name
	 </select>
  
  <select id="selectCardNoforOrderReadySign"  resultType="java.util.HashMap"
		parameterType="com.allinfinance.univer.seller.order.dto.OrderReadyDTO">  
		SELECT    
		 	tb.* , 
		 	MAX(TB."cardNo") OVER(PARTITION BY TB."cardLayoutId") "max",
       		MIN(TB."cardNo") OVER(PARTITION BY TB."cardLayoutId") "min"
	    FROM (
	    
	    select * from
			(
			select
	              M.CARD_NO as "cardNo",
			      M.PRODUCT_ID as "productId",
			      M.CARD_LAYOUT_ID as "cardLayoutId",
			      '非固定' as "faceValueType",
			      M.FACE_VALUE/100 as "faceValue",
			      M.CARD_VALID_DATE as "cardValidDate",
			      M.STOCK_STATE as "stockState",
			      M.CARD_LAYOUT_NAME as "cardLayoutName",
	              rownumber() over() as COUNTNUMBER
 		     from (
					SELECT 
			   		   DISTINCT T1.CARD_NO,
				       T1.PRODUCT_ID ,
				       T1.CARD_LAYOUT_ID ,
				       T1.FACE_VALUE,
				       T1.CARD_VALID_DATE,
				       T1.STOCK_STATE,
				       T3.CARD_LAYOUT_NAME 
					FROM 
					       TB_ENTITY_STOCK T1,
						   TB_SELL_ORDER_CARD_LIST T2,
					       TB_CARD_LAYOUT T3,
					       TB_SELL_ORDER T4
					WHERE
					       T1.DATA_STATE = '1'
					AND
				           T1.FUNCTION_ROLE_ID='3'
					AND 
					       T2.DATA_STATE = '1'
					AND 
						   T1.STOCK_STATE = '1'
					AND
					       T1.CARD_LAYOUT_ID = T3.CARD_LAYOUT_ID
			
					AND    T1.FACE_VALUE_TYPE = '1'
			       	AND	   T2.ORDER_ID = T4.ORDER_ID
			       	AND
			       		   T1.PRODUCT_ID = T4.PRODUCT_ID
			        AND
			               T1.CARD_NO not in (select decode(trim(T2.card_no),null,'111111','','111111',T2.card_no) from TB_SELL_ORDER_CARD_LIST T2 where t2.ORDER_ID = #{orderId,jdbcType=VARCHAR})
			       	AND
			       		   T4.ORDER_ID = #{orderId,jdbcType=VARCHAR}
			       	AND    T1.FLD_01_RES_DATA is null  
			       		
			        AND
						   T1.ENTITY_ID = #{defaultEntityId,jdbcType=VARCHAR}
					 ORDER BY T1.card_no
			     ) M
			     )
			     ) TB
	 </select>
   <select id="selectCardNoforOrderReady"  resultType="java.util.HashMap"
		 parameterType="com.allinfinance.univer.seller.order.dto.OrderReadyDTO">  
		SELECT    
		 	tb.* , 
		 	MAX(TB."cardNo") OVER(PARTITION BY TB."cardLayoutId") "max",
       		MIN(TB."cardNo") OVER(PARTITION BY TB."cardLayoutId") "min"
	   FROM (
			 SELECT  * FROM (
		SELECT 
	   		   DISTINCT
		       T1.CARD_NO as "cardNo",
		       T1.PRODUCT_ID as "productId",
		       T1.CARD_LAYOUT_ID as "cardLayoutId",
		       '非固定' as "faceValueType",
		       T1.FACE_VALUE/100 as "faceValue",
		       T1.CARD_VALID_DATE as "cardValidDate",
		       T1.STOCK_STATE as "stockState",
		       T3.CARD_LAYOUT_NAME as "cardLayoutName",
		       rownumber() over(ORDER BY T1.card_no) as COUNTNUMBER
		FROM 
		       TB_ENTITY_STOCK T1,
			   TB_SELL_ORDER_LIST T2,
		       TB_CARD_LAYOUT T3,
		       TB_SELL_ORDER T4
		WHERE
		       T1.DATA_STATE = '1'
		AND 
		       T2.DATA_STATE = '1'
		AND 
			   T1.STOCK_STATE = '1'
		AND
	           T1.FUNCTION_ROLE_ID='3'
		AND
		       T2.CARD_LAYOUT_ID = T3.CARD_LAYOUT_ID
		AND    
		       T1.CARD_LAYOUT_ID = T2.CARD_LAYOUT_ID
		AND	   T1.FACE_VALUE_TYPE = T2.FACE_VALUE_TYPE
		AND    T1.FACE_VALUE_TYPE = '1'
       	AND
       		   T2.ORDER_ID = T4.ORDER_ID
       	AND
       		   T1.PRODUCT_ID = T4.PRODUCT_ID
       
       	AND
       		   T4.ORDER_ID = #{orderId,jdbcType=VARCHAR}
        AND    T1.FLD_01_RES_DATA is null
       	AND
       		   T2.ORDER_LIST_ID=#{orderListId,jdbcType=VARCHAR}
      	 
        AND
			   T1.ENTITY_ID = #{defaultEntityId,jdbcType=VARCHAR}
			      ORDER BY T1.card_no
			  ) 
       	UNION 
       	SELECT * FROM (
       	SELECT 
       		   DISTINCT
		       T1.CARD_NO as "cardNo",
		       T1.PRODUCT_ID as "productId",
		       T1.CARD_LAYOUT_ID as "cardLayoutId",
		       '固定' as "faceValueType",
		       T1.FACE_VALUE/100 as "faceValue",
		       T1.CARD_VALID_DATE as "cardValidDate",
		       T1.STOCK_STATE as "stockState",
		       T3.CARD_LAYOUT_NAME as "cardLayoutName",
		       rownumber() over(ORDER BY T1.card_no) as COUNTNUMBER
		from 
		       TB_ENTITY_STOCK T1,
			   TB_SELL_ORDER_LIST T2,
		       TB_CARD_LAYOUT T3,
		       TB_SELL_ORDER T4
		where
		       T1.DATA_STATE = '1'
		and 
		       T2.DATA_STATE = '1'
		and 
			   T1.STOCK_STATE = '1'
	    AND
	           T1.FUNCTION_ROLE_ID='3'
		and
		       T2.CARD_LAYOUT_ID = T3.CARD_LAYOUT_ID
		and    
		       T1.CARD_LAYOUT_ID = T2.CARD_LAYOUT_ID
		and	   T1.FACE_VALUE_TYPE= T2.FACE_VALUE_TYPE
		and    T1.FACE_VALUE_TYPE = '0' 
		and    T1.FACE_VALUE = T2.FACE_VALUE
       	and
       		   T2.ORDER_ID = T4.ORDER_ID
       	and
       		   T1.PRODUCT_ID = T4.PRODUCT_ID
      
       	and
       		   T4.ORDER_ID =#{orderId,jdbcType=VARCHAR} 
        AND    T1.FLD_01_RES_DATA is null
        and
        	   T2.ORDER_LIST_ID=#{orderListId,jdbcType=VARCHAR}
      	and  T1.ENTITY_ID = #{defaultEntityId,jdbcType=VARCHAR}
      	 ORDER BY T1.card_no
			     ) 
			     ) tb
	 </select>
	 
	 
	 
	  <select id="selectCardDetailFororderReadyByFixDetail" resultType="com.allinfinance.prepay.model.SellOrderCardList" parameterType="com.allinfinance.univer.seller.order.dto.OrderReadyDTO">  
		select 
			SEQ_SELL_ORDER_CARD_LIST.NEXTVAL as "orderCardListId",
		    T.card_no as "cardNO",
			T.order_list_id as "orderListId",
			T.face_value as "faceValue" 
		from (
		
			select 
	         t1.card_no,
	         t2.order_list_id,
	         t2.face_value  
	    from tb_entity_stock t1,
             tb_sell_order_list t2
       where
       	  NOT EXISTS (SELECT 1 FROM TB_SELL_ORDER_CARD_LIST T2 WHERE T2.CARD_NO= T1.CARD_NO AND  T2.ORDER_ID=#{orderId,jdbcType=VARCHAR})
       and   t1.face_value_type = t2.face_value_type
       and   t1.face_value_type = '0'
       and   t1.face_value = t2.face_value
       and   t2.order_list_id =#{orderListId,jdbcType=VARCHAR} 
       and   t1.product_id=#{productId,jdbcType=VARCHAR} 
       and   t1.entity_id = #{processEntityId,jdbcType=VARCHAR}
              and   t1.stock_state = '1'
       and   T1.DATA_STATE = '1'
       and   T1.FLD_01_RES_DATA is null
       and t2.data_state = '1'
      order by t1.card_no
		
			) T
	 </select>
  
  <insert id="insert" parameterType="com.allinfinance.prepay.model.EntityStock" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    insert into SVC_MNG.TB_ENTITY_STOCK (CARD_NO, ENTITY_ID, FUNCTION_ROLE_ID, 
      PRODUCT_ID, CARD_LAYOUT_ID, FACE_VALUE_TYPE, 
      FACE_VALUE, CARD_VALID_DATE, STOCK_STATE, 
      CREATE_USER, CREATE_TIME, MODIFY_USER, 
      MODIFY_TIME, DATA_STATE, IS_USED, 
      FLD_01_RES_DATA, FLD_02_RES_DATA)
    values (#{cardNo,jdbcType=VARCHAR}, #{entityId,jdbcType=VARCHAR}, #{functionRoleId,jdbcType=VARCHAR}, 
      #{productId,jdbcType=VARCHAR}, #{cardLayoutId,jdbcType=VARCHAR}, #{faceValueType,jdbcType=CHAR}, 
      #{faceValue,jdbcType=VARCHAR}, #{cardValidDate,jdbcType=CHAR}, #{stockState,jdbcType=VARCHAR}, 
      #{createUser,jdbcType=VARCHAR}, #{createTime,jdbcType=CHAR}, #{modifyUser,jdbcType=VARCHAR}, 
      #{modifyTime,jdbcType=CHAR}, #{dataState,jdbcType=CHAR}, #{isUsed,jdbcType=CHAR}, 
      #{fld01ResData,jdbcType=VARCHAR}, #{fld02ResData,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.allinfinance.prepay.model.EntityStock" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    insert into SVC_MNG.TB_ENTITY_STOCK
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="cardNo != null" >
        CARD_NO,
      </if>
      <if test="entityId != null" >
        ENTITY_ID,
      </if>
      <if test="functionRoleId != null" >
        FUNCTION_ROLE_ID,
      </if>
      <if test="productId != null" >
        PRODUCT_ID,
      </if>
      <if test="cardLayoutId != null" >
        CARD_LAYOUT_ID,
      </if>
      <if test="faceValueType != null" >
        FACE_VALUE_TYPE,
      </if>
      <if test="faceValue != null" >
        FACE_VALUE,
      </if>
      <if test="cardValidDate != null" >
        CARD_VALID_DATE,
      </if>
      <if test="stockState != null" >
        STOCK_STATE,
      </if>
      <if test="createUser != null" >
        CREATE_USER,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="modifyUser != null" >
        MODIFY_USER,
      </if>
      <if test="modifyTime != null" >
        MODIFY_TIME,
      </if>
      <if test="dataState != null" >
        DATA_STATE,
      </if>
      <if test="isUsed != null" >
        IS_USED,
      </if>
      <if test="fld01ResData != null" >
        FLD_01_RES_DATA,
      </if>
      <if test="fld02ResData != null" >
        FLD_02_RES_DATA,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="cardNo != null" >
        #{cardNo,jdbcType=VARCHAR},
      </if>
      <if test="entityId != null" >
        #{entityId,jdbcType=VARCHAR},
      </if>
      <if test="functionRoleId != null" >
        #{functionRoleId,jdbcType=VARCHAR},
      </if>
      <if test="productId != null" >
        #{productId,jdbcType=VARCHAR},
      </if>
      <if test="cardLayoutId != null" >
        #{cardLayoutId,jdbcType=VARCHAR},
      </if>
      <if test="faceValueType != null" >
        #{faceValueType,jdbcType=CHAR},
      </if>
      <if test="faceValue != null" >
        #{faceValue,jdbcType=VARCHAR},
      </if>
      <if test="cardValidDate != null" >
        #{cardValidDate,jdbcType=CHAR},
      </if>
      <if test="stockState != null" >
        #{stockState,jdbcType=VARCHAR},
      </if>
      <if test="createUser != null" >
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=CHAR},
      </if>
      <if test="modifyUser != null" >
        #{modifyUser,jdbcType=VARCHAR},
      </if>
      <if test="modifyTime != null" >
        #{modifyTime,jdbcType=CHAR},
      </if>
      <if test="dataState != null" >
        #{dataState,jdbcType=CHAR},
      </if>
      <if test="isUsed != null" >
        #{isUsed,jdbcType=CHAR},
      </if>
      <if test="fld01ResData != null" >
        #{fld01ResData,jdbcType=VARCHAR},
      </if>
      <if test="fld02ResData != null" >
        #{fld02ResData,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.allinfinance.prepay.model.EntityStockExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    select count(*) from SVC_MNG.TB_ENTITY_STOCK
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    update SVC_MNG.TB_ENTITY_STOCK
    <set >
      <if test="record.cardNo != null" >
        CARD_NO = #{record.cardNo,jdbcType=VARCHAR},
      </if>
      <if test="record.entityId != null" >
        ENTITY_ID = #{record.entityId,jdbcType=VARCHAR},
      </if>
      <if test="record.functionRoleId != null" >
        FUNCTION_ROLE_ID = #{record.functionRoleId,jdbcType=VARCHAR},
      </if>
      <if test="record.productId != null" >
        PRODUCT_ID = #{record.productId,jdbcType=VARCHAR},
      </if>
      <if test="record.cardLayoutId != null" >
        CARD_LAYOUT_ID = #{record.cardLayoutId,jdbcType=VARCHAR},
      </if>
      <if test="record.faceValueType != null" >
        FACE_VALUE_TYPE = #{record.faceValueType,jdbcType=CHAR},
      </if>
      <if test="record.faceValue != null" >
        FACE_VALUE = #{record.faceValue,jdbcType=VARCHAR},
      </if>
      <if test="record.cardValidDate != null" >
        CARD_VALID_DATE = #{record.cardValidDate,jdbcType=CHAR},
      </if>
      <if test="record.stockState != null" >
        STOCK_STATE = #{record.stockState,jdbcType=VARCHAR},
      </if>
      <if test="record.createUser != null" >
        CREATE_USER = #{record.createUser,jdbcType=VARCHAR},
      </if>
      <if test="record.createTime != null" >
        CREATE_TIME = #{record.createTime,jdbcType=CHAR},
      </if>
      <if test="record.modifyUser != null" >
        MODIFY_USER = #{record.modifyUser,jdbcType=VARCHAR},
      </if>
      <if test="record.modifyTime != null" >
        MODIFY_TIME = #{record.modifyTime,jdbcType=CHAR},
      </if>
      <if test="record.dataState != null" >
        DATA_STATE = #{record.dataState,jdbcType=CHAR},
      </if>
      <if test="record.isUsed != null" >
        IS_USED = #{record.isUsed,jdbcType=CHAR},
      </if>
      <if test="record.fld01ResData != null" >
        FLD_01_RES_DATA = #{record.fld01ResData,jdbcType=VARCHAR},
      </if>
      <if test="record.fld02ResData != null" >
        FLD_02_RES_DATA = #{record.fld02ResData,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 26 10:50:23 CST 2016.
    -->
    update SVC_MNG.TB_ENTITY_STOCK
    set CARD_NO = #{record.cardNo,jdbcType=VARCHAR},
      ENTITY_ID = #{record.entityId,jdbcType=VARCHAR},
      FUNCTION_ROLE_ID = #{record.functionRoleId,jdbcType=VARCHAR},
      PRODUCT_ID = #{record.productId,jdbcType=VARCHAR},
      CARD_LAYOUT_ID = #{record.cardLayoutId,jdbcType=VARCHAR},
      FACE_VALUE_TYPE = #{record.faceValueType,jdbcType=CHAR},
      FACE_VALUE = #{record.faceValue,jdbcType=VARCHAR},
      CARD_VALID_DATE = #{record.cardValidDate,jdbcType=CHAR},
      STOCK_STATE = #{record.stockState,jdbcType=VARCHAR},
      CREATE_USER = #{record.createUser,jdbcType=VARCHAR},
      CREATE_TIME = #{record.createTime,jdbcType=CHAR},
      MODIFY_USER = #{record.modifyUser,jdbcType=VARCHAR},
      MODIFY_TIME = #{record.modifyTime,jdbcType=CHAR},
      DATA_STATE = #{record.dataState,jdbcType=CHAR},
      IS_USED = #{record.isUsed,jdbcType=CHAR},
      FLD_01_RES_DATA = #{record.fld01ResData,jdbcType=VARCHAR},
      FLD_02_RES_DATA = #{record.fld02ResData,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
</mapper>