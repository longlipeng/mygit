<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="BLANKCARDSTOCKCOUNT">
<select id="selectBlankCardStockCountByDTO" parameterClass="com.huateng.accorecard.issuerGroupScDetail.dto.IssuerGroupScDetailQueryDTO" resultClass="java.util.HashMap" remapResults="true">
		 <include refid="Commons.prefixSql"/>
		select T1.DETAIL_ID as "detailId",
    	    T1.ISSUER_GROUP_STOCK_COUNT_ID   as "stockCountId",
    	     T1.CARD_COMPANY   as "cardCompany",
       	    T1.CARD_LAYOUT    as "cardLayout",
       		T1.CARD_AMOUNT    as "cardAmount",
       		T1.INPUT_NUMBER   as "inputNumber",
       		T1.CARD_AMOUNT-T1.INPUT_NUMBER as "differNumber",
       		T1.NOTES          as    "notes",
     		T2.USER_NAME      as   "operationUser"
		from tb_ent_blank_card_stock_count T1,
		TB_ENT_USER               T2
		where 1=1
		and T1.CREATE_USER=T2.USER_ID(+)
	<dynamic>
      <isNotNull prepend="and" property="stockCountId">
       T1.ISSUER_GROUP_STOCK_COUNT_ID=#stockCountId:DECIMAL#
      </isNotNull>
      <isNotEmpty prepend="and" property="operationUser">
       T2.USER_NAME like '%'||#operationUser:VARCHAR#||'%'
      </isNotEmpty>
	</dynamic>
<include refid="Commons.suffixSql"/>
</select>









<select id="selectBlankCardStockCount" parameterClass="com.huateng.accorecard.issuerGroupScDetail.dto.IssuerGroupScDetailQueryDTO" resultClass="java.util.HashMap" remapResults="true">
		
		select T1.DETAIL_ID as "detailId",
    	    T1.ISSUER_GROUP_STOCK_COUNT_ID   as "stockCountId",
    	     T1.CARD_COMPANY   as "cardCompany",
       	    T1.CARD_LAYOUT    as "cardLayout",
       		T1.CARD_AMOUNT    as "cardAmount",
       		T1.INPUT_NUMBER   as "inputNumber",
       		T1.CARD_AMOUNT-T1.INPUT_NUMBER as "differNumber",
       		T1.NOTES          as    "notes",
       		T2.USER_NAME      as   "operationUser"
		from tb_ent_blank_card_stock_count T1,
		TB_ENT_USER               T2
		where 1=1
		and T1.CREATE_USER=T2.USER_ID(+)
	<dynamic>
      <isNotNull prepend="and" property="stockCountId">
       T1.ISSUER_GROUP_STOCK_COUNT_ID=#stockCountId:DECIMAL#
      </isNotNull>
       <isNotEmpty prepend="and" property="operationUser">
       T2.USER_NAME like '%'||#operationUser:VARCHAR#||'%'
      </isNotEmpty>
	</dynamic>
</select>


</sqlMap>
