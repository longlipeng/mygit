<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="CACLINF">
<resultMap id="resourceResult" class="com.allinfinance.univer.servicefeerule.dto.CaclInfDTO" >
	    <result column="DISC_CD" property="discCd"/>
	    <result column="STEP_NO" property="stepNo"/>
	    <result column="OPER_RSLT" property="operRslt"/>
	    <result column="OPERAND1" property="operand1"/>
	    <result column="OPERATOR1" property="operator1"/>
	    <result column="OPERAND2" property="operand2"/>
	    <result column="OPERATOR2" property="operator2"/>
	    <result column="OPERAND3" property="operand3"/>
	    <result column="REC_UPD_USR_ID" property="recUpdUsrId"/>
	    <result column="REC_UPD_TS" property="recUpdTs"/>
	    <result column="REC_CRT_TS" property="recCrtTs"/>
    </resultMap>
 
<select id="selectCaclInf" parameterClass="com.huateng.framework.ibatis.model.CaclInf" resultClass="resourceResult" >
select
  T1.DISC_CD as "discCd",
  T1.STEP_NO as "stepNo",
  T1.OPER_RSLT as "operRslt",
  T1.OPERAND1 as "operand1",
  T1.OPERATOR1 as "operator1",
  T1.OPERAND2 as "operand2",
  T1.OPERATOR2 as "operator2",
  T1.OPERAND3 as "operand3",
  T1.REC_UPD_USR_ID as "recUpdUsrId",
  to_char(T1.REC_UPD_TS,'yyyy-MM-dd')  as "recUpdTs",
  T1.REC_CRT_TS as "recCrtTs"
  
  from TBL_CACL_INF T1
  
  where 1=1
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD LIKE '%'||#discCd:VARCHAR#||'%'
  	</isNotNull>
  </dynamic>
</select>
<select id="selectCaclInfBydiscCd" parameterClass="java.lang.String" resultClass="java.util.List" >
select
  T1.DISC_CD as "discCd",
  T1.STEP_NO as "stepNo",
  T1.OPER_RSLT as "operRslt",
  T1.OPERAND1 as "operand1",
  T1.OPERATOR1 as "operator1",
  T1.OPERAND2 as "operand2",
  T1.OPERATOR2 as "operator2",
  T1.OPERAND3 as "operand3",
  T1.REC_UPD_USR_ID as "recUpdUsrId",
  T1.REC_UPD_TS as "recUpdTs",
  T1.REC_CRT_TS as "recCrtTs"
  
  from TBL_CACL_INF T1
  
  where 1=1
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD =#discCd:VARCHAR#
  	</isNotNull>
  </dynamic>
</select>
<select id="selectCaclInfMap" parameterClass="com.allinfinance.univer.servicefeerule.dto.CaclInfDTO" resultClass="java.util.HashMap" remapResults="true" >
select  distinct
  T1.DISC_CD as "discCd",
  T1.REC_UPD_USR_ID as "recUpdUsrId",
  T1.REC_UPD_TS as "recUpdTs",
  T1.REC_CRT_TS as "recCrtTs"
  
  from TBL_CACL_INF T1
  
  where 1=1
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD LIKE '%'||#discCd:VARCHAR#||'%'
  	</isNotNull>
  </dynamic>
  
</select>

<select id="selectCaclInfByExample" parameterClass="com.huateng.framework.ibatis.model.CaclInfExample" resultClass="java.util.HashMap" remapResults="true" >
select
  T1.DISC_CD as "discCd",
  T1.STEP_NO as "stepNo",
  T1.OPER_RSLT as "operRslt",
  T1.OPERAND1 as "operand1",
  T1.OPERATOR1 as "operator1",
  T1.OPERAND2 as "operand2",
  T1.OPERATOR2 as "operator2",
  T1.OPERAND3 as "operand3",
  T1.REC_UPD_USR_ID as "recUpdUsrId",
  T1.REC_UPD_TS as "recUpdTs",
  T1.REC_CRT_TS as "recCrtTs"
  
  from TBL_CACL_INF T1
  
  where 1=1
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD =#discCd:VARCHAR#
  	</isNotNull>
  	<isNotNull prepend="and" property="discCd">
  		T1.STEP_NO = #stepNo:DECIMAL#
  	</isNotNull>
  </dynamic>
</select>
<insert id="insertCaclInf" parameterClass="com.huateng.framework.ibatis.model.CaclInf" >
	insert into TBL_CACL_INF(DISC_CD,STEP_NO,OPER_RSLT,OPERAND1,OPERATOR1,OPERAND2,OPERATOR2,OPERAND3,REC_UPD_USR_ID,REC_UPD_TS,REC_CRT_TS)
	values (#discCd:CHAR#,#stepNo:DECIMAL#,#operRslt:DECIMAL#,#operand1:VARCHAR#,#operator1:CHAR#,
	        #operand2:DECIMAL#,#operator2:CHAR#,#operand3:VARCHAR#,#recUpdUsrId:CHAR#,#recUpdTs:DATE#,#recCrtTs:DATE#)
</insert>
<update id="updateCaclInf" parameterClass="com.huateng.framework.ibatis.model.CaclInf">
	update TBL_CACL_INF
	set DISC_CD=#discCd:CHAR#,
	    STEP_NO=#stepNo:DECIMAL#,
	    OPER_RSLT=#operRslt:DECIMAL#,
	    OPERAND1=#operand1:VARCHAR#,
	    OPERATOR1=#operator1:CHAR#,
	    OPERAND2= #operand2:DECIMAL#,
	    OPERATOR2=#operator2:CHAR#,
	    OPERAND3=#operand3:VARCHAR#,
	    REC_UPD_USR_ID=#recUpdUsrId:CHAR#,
	    REC_UPD_TS=#recUpdTs:DATE#,
	    REC_CRT_TS=#recCrtTs:DATE#
</update>
<delete id="deleteCaclInfBydiscCd" parameterClass="com.huateng.framework.ibatis.model.CaclInf">
	delete TBL_CACL_INF where DISC_CD=#discCd:CHAR#
</delete>
</sqlMap>
