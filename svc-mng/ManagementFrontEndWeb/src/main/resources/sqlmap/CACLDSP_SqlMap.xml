<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="CACLDSP">
<select id="selectCaclDspMap" parameterClass="com.allinfinance.univer.servicefeerule.dto.CaclInfQueryDTO" resultClass="java.util.HashMap" remapResults="true" >
<include refid="Commons.prefixSql"/>
 select T1.DISC_CD as "discCd",
        T1.CACL_DSP as "caclDsp",
        T1.REC_UPD_USR_ID as "recUpdUsrId" ,
        to_char(T1.REC_UPD_TS,'yyyy-mm-dd') as "recUpdTs", 
        to_char(T1.REC_CRT_TS,'yyyy-mm-dd') as "recCrtTs",
        T1.CACL_NAME as "caclName",
        decode(T1.DATA_STAT,'1','新建','2','启用','0','删除') as "dataStat"  
    from TBL_CACL_DSP T1
   
  where 1=1 
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD  LIKE '%'||#discCd:CHAR#||'%'
  	</isNotNull>
  	<isNotNull prepend="and" property="caclName">
  		T1.CACL_NAME  LIKE '%'||#caclName:varchar#||'%'
  	</isNotNull>
  	<isNotNull prepend="and" property="recUpdUsrId">
  		T1.REC_UPD_USR_ID = #recUpdUsrId#
  	</isNotNull>
  	<isNotNull prepend="and" property="dataStat">
  		T1.DATA_STAT = #dataStat#
  	</isNotNull>
  </dynamic>
   <include refid="Commons.suffixSql"/>
</select>

<select id="selectCaclInfByExample" parameterClass="com.huateng.framework.ibatis.model.CaclInfExample" resultClass="java.util.HashMap" remapResults="true" >
select
  T1.DISC_CD as "discCd",
  T1.STEP_NO as "stepNo",
  T1.OPER_RSLT as "operRslt",
  T1.OPERAND1 as "operand1",
  T1.OPERATOR1 as "operator1",
  T1.OPERAND2 as "operand2",
  T1.OPERATOR2 as "operator2",
  T1.OPERAND3 as "operand3",
  T1.REC_UPD_USR_ID as "recUpdUsrId",
  T1.REC_UPD_TS as "recUpdTs",
  T1.REC_CRT_TS as "recCrtTs"
  
  from TBL_CACL_INF T1
  
  where 1=1
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD =#discCd:VARCHAR#
  	</isNotNull>
  	<isNotNull prepend="and" property="discCd">
  		T1.STEP_NO = #stepNo:DECIMAL#
  	</isNotNull>
  </dynamic>
</select>

<!-- <select id="selectCaclDspForList" parameterClass="com.huateng.framework.ibatis.model.CaclInfQueryDTO" resultClass="com.huateng.framework.ibatis.model.CaclDspDTO" remapResults="true" >
select T1.DISC_CD as "discCd",
        T1.CACL_DSP as "caclDsp",
        T1.REC_UPD_USR_ID as "recUpdUsrId" ,
        T1.REC_UPD_TS as "recUpdTs", 
        T1.REC_CRT_TS as "recCrtTs",
        T1.CACL_NAME as "caclName",
        decode(T1.DATA_STAT,'1','新建','2','启用','0','删除') as "dataStat"  
    from TBL_CACL_DSP T1
   
  where 1=1 
  <dynamic>
  	<isNotNull prepend="and" property="discCd">
  		T1.DISC_CD  LIKE '%'||#discCd:CHAR#||'%'
  	</isNotNull>
  	<isNotNull prepend="and" property="recUpdUsrId">
  		T1.REC_UPD_USR_ID = #recUpdUsrId#
  	</isNotNull>
  	<isNotNull prepend="and" property="dataStat">
  		T1.DATA_STAT = #dataStat#
  	</isNotNull>
  	<isNotNull prepend="and" property="caclName">
  		T1.CACL_NAME = #caclName#
  	</isNotNull>
  </dynamic>
</select>
-->
<insert id="insertCaclInf" parameterClass="com.huateng.framework.ibatis.model.CaclInf" >
	insert into TBL_CACL_INF(DISC_CD,STEP_NO,OPER_RSLT,OPERAND1,OPERATOR1,OPERAND2,OPERATOR2,OPERAND3,REC_UPD_USR_ID,REC_UPD_TS,REC_CRT_TS)
	values (#discCd:CHAR#,#stepNo:DECIMAL#,#operRslt:DECIMAL#,#operand1:DECIMAL#,#operator1:CHAR#,
	        #operand2:DECIMAL#,#operator2:CHAR#,#operand3:DECIMAL#,#recUpdUsrId:CHAR#,#recUpdTs:DATE#,#recCrtTs:DATE#)
</insert>
<update id="updateCaclInf" parameterClass="com.huateng.framework.ibatis.model.CaclInf">
	update TBL_CACL_INF
	set DISC_CD=#discCd:CHAR#,
	    STEP_NO=#stepNo:DECIMAL#,
	    OPER_RSLT=#operRslt:DECIMAL#,
	    OPERAND1=#operand1:DECIMAL#,
	    OPERATOR1=#operator1:CHAR#,
	    OPERAND2= #operand2:DECIMAL#,
	    OPERATOR2=#operator2:CHAR#,
	    OPERAND3=#operand3:DECIMAL#,
	    REC_UPD_USR_ID=#recUpdUsrId:CHAR#,
	    REC_UPD_TS=#recUpdTs:DATE#,
	    REC_CRT_TS=#recCrtTs:DATE#
</update>
<delete id="deleteCaclInfBydiscCd" parameterClass="com.huateng.framework.ibatis.model.CaclInf">
	delete TBL_CACL_INF where DISC_CD=#discCd:CHAR#
</delete>
</sqlMap>
