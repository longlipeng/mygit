<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CARD_COMPANY" >
<select id="selectCardCompanyByDTO" parameterClass="com.allinfinance.univer.issuer.dto.cardcompany.CardCompanyQueryDTO" resultClass="java.util.HashMap" remapResults="true">
    <include refid="Commons.prefixSql"/>
    select
        T1.CARD_COMPANY_ID as "cardCompanyId",
        T1.CARD_COMPANY_NAME as "cardCompanyName",
        DECODE(T1.CARD_COMPANY_STATE,'1','有效','无效') as "cardCompanyState"
    from
        TB_CARD_COMPANY T1
    where
    	T1.ENTITY_ID = #defaultEntityId:VARCHAR#
    <dynamic>
      <isNotEmpty prepend="and" property="cardCompanyId">
        T1.CARD_COMPANY_ID = #cardCompanyId:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="and" property="cardCompanyName">
        T1.CARD_COMPANY_NAME like '%'||#cardCompanyName:VARCHAR#||'%'
      </isNotEmpty>
      <isNotEmpty prepend="and" property="cardCompanyState">
        T1.CARD_COMPANY_STATE = #cardCompanyState:VARCHAR#
      </isNotEmpty>
    </dynamic>
    <include refid="Commons.suffixSql"/>
  </select>
</sqlMap>