<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Attach_info">
	<resultMap class="com.allinfinance.univer.seller.cardholder.dto.AttachInfoDTO"  id="AttachInfoMap">
				<result jdbcType="varchar" column="PEOPLE_NO" property="peopleNo"/>
				<result jdbcType="varchar" column="PEOPLE_TYPE" property="peopleType"/>
				<result jdbcType="varchar" column="ENTITY_ID" property="entityId"/>
				<result jdbcType="varchar" column="INDUSTRY" property="industry"/>
				<result jdbcType="varchar" column="PROFESSION" property="profession"/>
				<result jdbcType="varchar" column="VALIDITY" property="validity"/>
				<result jdbcType="varchar" column="COUNTYR" property="country"/>
				<result jdbcType="varchar" column="CITY" property="city"/>
				<result jdbcType="char" column="DATA_STAT" property="dataStat"/>
				<result jdbcType="varchar" column="BUSINESS_LICENSE" property="businessLlicense"/>
				<result jdbcType="varchar" column="ORGANIZATION_CODE" property="organizationCode"/>
				<result jdbcType="varchar" column="TAX_REGISTRATION" property="taxRegistration"/>
				<result jdbcType="varchar" column="UPDATE_DATE" property="updateDate"/>
				<result jdbcType="varchar" column="RS1" property="rs1"/>
				<result jdbcType="varchar" column="RS2" property="rs2"/>
				<result jdbcType="varchar" column="RS3" property="rs3"/>
				<result jdbcType="varchar" column="NATION" property="nation"/>
				<result jdbcType="varchar" column="EDUCATION" property="education"/>
				<result jdbcType="varchar" column="MARRIAGE" property="marriage"/>
				<result jdbcType="varchar" column="EMAIL" property="email"/>
	</resultMap>
	<insert id="Attach_info_insert"  parameterClass="com.allinfinance.univer.seller.cardholder.dto.AttachInfoDTO">
					INSERT
						INTO
			    TB_PEOPLE_ATTACH_INFO
			    (
			        PEOPLE_NO,
			        PEOPLE_TYPE,
			        ENTITY_ID,
			        INDUSTRY,
			        PROFESSION,
			        VALIDITY,
			        COUNTYR,
			        CITY,
			        DATA_STAT,
			        BUSINESS_LICENSE,
			        ORGANIZATION_CODE,
			        TAX_REGISTRATION,
			        UPDATE_DATE,
			        RS1,
			        RS2,
			        RS3,
			        NATION,
			        EDUCATION,
			        MARRIAGE,
			        EMAIL
			    )
			    VALUES
			    (
			        #peopleNo:varchar#,
			        #peopleType:varchar#,
			        #entityId:varchar#,
			        #industry:varchar#,
			        #profession:varchar#,
			        #validity:varchar#,
			        #country:varchar#,
			        #city:varchar#,
			        #dataStat:char#,
			        #businessLlicense:varchar#,
			        #organizationCode:varchar#,
			        #taxRegistration:varchar#,
			        #updateDate:char#,
			        #rs1:varchar#,
			        #rs2:varchar#,
			        #rs3:varchar#,
			        #nation:varchar#,
			        #education:varchar#,
			        #marriage:varchar#,
			        #email:varchar#
			    )
	</insert>
	<select id="Attach_info_select"  parameterClass="com.allinfinance.univer.seller.cardholder.dto.AttachInfoDTO"  resultMap="AttachInfoMap">
						SELECT
						PEOPLE_NO,
						PEOPLE_TYPE,
						ENTITY_ID,
						INDUSTRY,
						PROFESSION,
						VALIDITY,
						COUNTYR,
						CITY,
						DATA_STAT,
						BUSINESS_LICENSE,
						ORGANIZATION_CODE,
						TAX_REGISTRATION,
						UPDATE_DATE,
						RS1,
						RS2,
						RS3,
						NATION,
				        EDUCATION,
				        MARRIAGE,
				        EMAIL
						FROM TB_PEOPLE_ATTACH_INFO
						WHERE 
						PEOPLE_NO=#peopleNo:VARCHAR#
						AND
						PEOPLE_TYPE=#peopleType:VARCHAR#
						AND
						ENTITY_ID = #entityId:VARCHAR#
						AND
						DATA_STAT= #dataStat:CAHR#
	</select>
	<update id="Attach_info_update" parameterClass="com.allinfinance.univer.seller.cardholder.dto.AttachInfoDTO">
	
			UPDATE  TB_PEOPLE_ATTACH_INFO  
				<dynamic prepend="SET">
					<isNotEmpty prepend="," property="industry">                          
					INDUSTRY =#industry:vachar#                                        
					</isNotEmpty>
					<isNotEmpty prepend="," property="profession">                        
					PROFESSION = #profession:vachar#                                      
					</isNotEmpty><isNotEmpty prepend="," property="validity">             
					VALIDITY =#validity:vachar#                                       
					</isNotEmpty>                                                         
					<isNotEmpty prepend="," property="country">                           
					COUNTYR = #country:vachar#                                          
					</isNotEmpty>                                                         
					<isNotEmpty prepend="," property="city">                              
					CITY  =  #city:vachar#                                        
					</isNotEmpty>                                                         
					<isNotEmpty prepend="," property="dataStat">                          
					DATA_STAT  = #dataStat:vachar#                                  
					</isNotEmpty>                                                         
					<isNotEmpty prepend="," property="businessLlicense">
					BUSINESS_LICENSE=#businessLlicense:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="organizationCode">
					ORGANIZATION_CODE= #organizationCode:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="taxRegistration">
					TAX_REGISTRATION=#taxRegistration:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="updateDate">
					UPDATE_DATE= #updateDate:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="rs1">
					RS1= #rs1:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="rs2">
					RS2= #rs2:vachar#
					</isNotEmpty>
					<isNotEmpty prepend="," property="rs3">
					RS3= #rs3:vachar#  
					</isNotEmpty>
					<isNotEmpty prepend="," property="nation">
					NATION= #nation:vachar#  
					</isNotEmpty>
					<isNotEmpty prepend="," property="education">
					EDUCATION= #education:vachar#  
					</isNotEmpty>
					<isNotEmpty prepend="," property="marriage">
					MARRIAGE= #marriage:vachar#  
					</isNotEmpty>
					<isNotEmpty prepend="," property="email">
					EMAIL= #email:vachar#  
					</isNotEmpty>
				</dynamic>
			WHERE 
						PEOPLE_NO=#peopleNo:VARCHAR#
						AND
						PEOPLE_TYPE=#peopleType:VARCHAR#
						AND
						ENTITY_ID = #entityId:VARCHAR#
						AND
						DATA_STAT= #dataStat:CAHR#
	</update>
</sqlMap>