<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.allinfinance.prepay.mapper.svc_mng.CardHolderMapper">
  <resultMap id="BaseResultMap" type="com.allinfinance.prepay.model.CardHolder">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    <result column="CARDHOLDER_ID" jdbcType="VARCHAR" property="cardholderId" />
    <result column="ENTITY_ID" jdbcType="VARCHAR" property="entityId" />
    <result column="LAST_NAME" jdbcType="VARCHAR" property="lastName" />
    <result column="FIRST_NAME" jdbcType="VARCHAR" property="firstName" />
    <result column="ID_TYPE" jdbcType="VARCHAR" property="idType" />
    <result column="ID_NO" jdbcType="VARCHAR" property="idNo" />
    <result column="CARDHOLDER_MOBILE" jdbcType="VARCHAR" property="cardholderMobile" />
    <result column="CARDHOLDER_EMAIL" jdbcType="VARCHAR" property="cardholderEmail" />
    <result column="EXTERNAL_ID" jdbcType="VARCHAR" property="externalId" />
    <result column="DEPARTMENT_ID" jdbcType="VARCHAR" property="departmentId" />
    <result column="CARDHOLDER_BIRTHDAY" jdbcType="CHAR" property="cardholderBirthday" />
    <result column="CARDHOLDER_GENDER" jdbcType="VARCHAR" property="cardholderGender" />
    <result column="CARDHOLDER_SALUTATION" jdbcType="VARCHAR" property="cardholderSalutation" />
    <result column="CARDHOLDER_FUNCTION" jdbcType="VARCHAR" property="cardholderFunction" />
    <result column="CARDHOLDER_SEGMENT" jdbcType="VARCHAR" property="cardholderSegment" />
    <result column="CARDHOLDER_STATE" jdbcType="CHAR" property="cardholderState" />
    <result column="CLOSE_DATE" jdbcType="CHAR" property="closeDate" />
    <result column="CARDHOLDER_COMMENT" jdbcType="VARCHAR" property="cardholderComment" />
    <result column="VID" jdbcType="VARCHAR" property="vid" />
    <result column="PLATE_NUMBER" jdbcType="VARCHAR" property="plateNumber" />
    <result column="DRIVER_LICENCE" jdbcType="VARCHAR" property="driverLicence" />
    <result column="CREATE_USER" jdbcType="VARCHAR" property="createUser" />
    <result column="CREATE_TIME" jdbcType="CHAR" property="createTime" />
    <result column="MODIFY_USER" jdbcType="VARCHAR" property="modifyUser" />
    <result column="MODIFY_TIME" jdbcType="CHAR" property="modifyTime" />
    <result column="DATA_STATE" jdbcType="CHAR" property="dataState" />
    <result column="MEMBER_ID" jdbcType="VARCHAR" property="memberId" />
    <result column="MAILING_ADDRESS" jdbcType="VARCHAR" property="mailingAddress" />
    <result column="CHECK_STATE" jdbcType="VARCHAR" property="checkState" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    CARDHOLDER_ID, ENTITY_ID, LAST_NAME, FIRST_NAME, ID_TYPE, ID_NO, CARDHOLDER_MOBILE, 
    CARDHOLDER_EMAIL, EXTERNAL_ID, DEPARTMENT_ID, CARDHOLDER_BIRTHDAY, CARDHOLDER_GENDER, 
    CARDHOLDER_SALUTATION, CARDHOLDER_FUNCTION, CARDHOLDER_SEGMENT, CARDHOLDER_STATE, 
    CLOSE_DATE, CARDHOLDER_COMMENT, VID, PLATE_NUMBER, DRIVER_LICENCE, CREATE_USER, CREATE_TIME, 
    MODIFY_USER, MODIFY_TIME, DATA_STATE, MEMBER_ID, MAILING_ADDRESS, CHECK_STATE
  </sql>
  <select id="selectByExample" parameterType="com.allinfinance.prepay.model.CardHolderExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from SVC_MNG.TB_CARDHOLDER
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.allinfinance.prepay.model.CardHolderExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    delete from SVC_MNG.TB_CARDHOLDER
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.allinfinance.prepay.model.CardHolder">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    insert into SVC_MNG.TB_CARDHOLDER (CARDHOLDER_ID, ENTITY_ID, LAST_NAME, 
      FIRST_NAME, ID_TYPE, ID_NO, 
      CARDHOLDER_MOBILE, CARDHOLDER_EMAIL, EXTERNAL_ID, 
      DEPARTMENT_ID, CARDHOLDER_BIRTHDAY, CARDHOLDER_GENDER, 
      CARDHOLDER_SALUTATION, CARDHOLDER_FUNCTION, 
      CARDHOLDER_SEGMENT, CARDHOLDER_STATE, CLOSE_DATE, 
      CARDHOLDER_COMMENT, VID, PLATE_NUMBER, 
      DRIVER_LICENCE, CREATE_USER, CREATE_TIME, 
      MODIFY_USER, MODIFY_TIME, DATA_STATE, 
      MEMBER_ID, MAILING_ADDRESS, CHECK_STATE
      )
    values (#{cardholderId,jdbcType=VARCHAR}, #{entityId,jdbcType=VARCHAR}, #{lastName,jdbcType=VARCHAR}, 
      #{firstName,jdbcType=VARCHAR}, #{idType,jdbcType=VARCHAR}, #{idNo,jdbcType=VARCHAR}, 
      #{cardholderMobile,jdbcType=VARCHAR}, #{cardholderEmail,jdbcType=VARCHAR}, #{externalId,jdbcType=VARCHAR}, 
      #{departmentId,jdbcType=VARCHAR}, #{cardholderBirthday,jdbcType=CHAR}, #{cardholderGender,jdbcType=VARCHAR}, 
      #{cardholderSalutation,jdbcType=VARCHAR}, #{cardholderFunction,jdbcType=VARCHAR}, 
      #{cardholderSegment,jdbcType=VARCHAR}, #{cardholderState,jdbcType=CHAR}, #{closeDate,jdbcType=CHAR}, 
      #{cardholderComment,jdbcType=VARCHAR}, #{vid,jdbcType=VARCHAR}, #{plateNumber,jdbcType=VARCHAR}, 
      #{driverLicence,jdbcType=VARCHAR}, #{createUser,jdbcType=VARCHAR}, #{createTime,jdbcType=CHAR}, 
      #{modifyUser,jdbcType=VARCHAR}, #{modifyTime,jdbcType=CHAR}, #{dataState,jdbcType=CHAR}, 
      #{memberId,jdbcType=VARCHAR}, #{mailingAddress,jdbcType=VARCHAR}, #{checkState,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.allinfinance.prepay.model.CardHolder">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    insert into SVC_MNG.TB_CARDHOLDER
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="cardholderId != null">
        CARDHOLDER_ID,
      </if>
      <if test="entityId != null">
        ENTITY_ID,
      </if>
      <if test="lastName != null">
        LAST_NAME,
      </if>
      <if test="firstName != null">
        FIRST_NAME,
      </if>
      <if test="idType != null">
        ID_TYPE,
      </if>
      <if test="idNo != null">
        ID_NO,
      </if>
      <if test="cardholderMobile != null">
        CARDHOLDER_MOBILE,
      </if>
      <if test="cardholderEmail != null">
        CARDHOLDER_EMAIL,
      </if>
      <if test="externalId != null">
        EXTERNAL_ID,
      </if>
      <if test="departmentId != null">
        DEPARTMENT_ID,
      </if>
      <if test="cardholderBirthday != null">
        CARDHOLDER_BIRTHDAY,
      </if>
      <if test="cardholderGender != null">
        CARDHOLDER_GENDER,
      </if>
      <if test="cardholderSalutation != null">
        CARDHOLDER_SALUTATION,
      </if>
      <if test="cardholderFunction != null">
        CARDHOLDER_FUNCTION,
      </if>
      <if test="cardholderSegment != null">
        CARDHOLDER_SEGMENT,
      </if>
      <if test="cardholderState != null">
        CARDHOLDER_STATE,
      </if>
      <if test="closeDate != null">
        CLOSE_DATE,
      </if>
      <if test="cardholderComment != null">
        CARDHOLDER_COMMENT,
      </if>
      <if test="vid != null">
        VID,
      </if>
      <if test="plateNumber != null">
        PLATE_NUMBER,
      </if>
      <if test="driverLicence != null">
        DRIVER_LICENCE,
      </if>
      <if test="createUser != null">
        CREATE_USER,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="modifyUser != null">
        MODIFY_USER,
      </if>
      <if test="modifyTime != null">
        MODIFY_TIME,
      </if>
      <if test="dataState != null">
        DATA_STATE,
      </if>
      <if test="memberId != null">
        MEMBER_ID,
      </if>
      <if test="mailingAddress != null">
        MAILING_ADDRESS,
      </if>
      <if test="checkState != null">
        CHECK_STATE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="cardholderId != null">
        #{cardholderId,jdbcType=VARCHAR},
      </if>
      <if test="entityId != null">
        #{entityId,jdbcType=VARCHAR},
      </if>
      <if test="lastName != null">
        #{lastName,jdbcType=VARCHAR},
      </if>
      <if test="firstName != null">
        #{firstName,jdbcType=VARCHAR},
      </if>
      <if test="idType != null">
        #{idType,jdbcType=VARCHAR},
      </if>
      <if test="idNo != null">
        #{idNo,jdbcType=VARCHAR},
      </if>
      <if test="cardholderMobile != null">
        #{cardholderMobile,jdbcType=VARCHAR},
      </if>
      <if test="cardholderEmail != null">
        #{cardholderEmail,jdbcType=VARCHAR},
      </if>
      <if test="externalId != null">
        #{externalId,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null">
        #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="cardholderBirthday != null">
        #{cardholderBirthday,jdbcType=CHAR},
      </if>
      <if test="cardholderGender != null">
        #{cardholderGender,jdbcType=VARCHAR},
      </if>
      <if test="cardholderSalutation != null">
        #{cardholderSalutation,jdbcType=VARCHAR},
      </if>
      <if test="cardholderFunction != null">
        #{cardholderFunction,jdbcType=VARCHAR},
      </if>
      <if test="cardholderSegment != null">
        #{cardholderSegment,jdbcType=VARCHAR},
      </if>
      <if test="cardholderState != null">
        #{cardholderState,jdbcType=CHAR},
      </if>
      <if test="closeDate != null">
        #{closeDate,jdbcType=CHAR},
      </if>
      <if test="cardholderComment != null">
        #{cardholderComment,jdbcType=VARCHAR},
      </if>
      <if test="vid != null">
        #{vid,jdbcType=VARCHAR},
      </if>
      <if test="plateNumber != null">
        #{plateNumber,jdbcType=VARCHAR},
      </if>
      <if test="driverLicence != null">
        #{driverLicence,jdbcType=VARCHAR},
      </if>
      <if test="createUser != null">
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=CHAR},
      </if>
      <if test="modifyUser != null">
        #{modifyUser,jdbcType=VARCHAR},
      </if>
      <if test="modifyTime != null">
        #{modifyTime,jdbcType=CHAR},
      </if>
      <if test="dataState != null">
        #{dataState,jdbcType=CHAR},
      </if>
      <if test="memberId != null">
        #{memberId,jdbcType=VARCHAR},
      </if>
      <if test="mailingAddress != null">
        #{mailingAddress,jdbcType=VARCHAR},
      </if>
      <if test="checkState != null">
        #{checkState,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.allinfinance.prepay.model.CardHolderExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    select count(*) from SVC_MNG.TB_CARDHOLDER
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    update SVC_MNG.TB_CARDHOLDER
    <set>
      <if test="record.cardholderId != null">
        CARDHOLDER_ID = #{record.cardholderId,jdbcType=VARCHAR},
      </if>
      <if test="record.entityId != null">
        ENTITY_ID = #{record.entityId,jdbcType=VARCHAR},
      </if>
      <if test="record.lastName != null">
        LAST_NAME = #{record.lastName,jdbcType=VARCHAR},
      </if>
      <if test="record.firstName != null">
        FIRST_NAME = #{record.firstName,jdbcType=VARCHAR},
      </if>
      <if test="record.idType != null">
        ID_TYPE = #{record.idType,jdbcType=VARCHAR},
      </if>
      <if test="record.idNo != null">
        ID_NO = #{record.idNo,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderMobile != null">
        CARDHOLDER_MOBILE = #{record.cardholderMobile,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderEmail != null">
        CARDHOLDER_EMAIL = #{record.cardholderEmail,jdbcType=VARCHAR},
      </if>
      <if test="record.externalId != null">
        EXTERNAL_ID = #{record.externalId,jdbcType=VARCHAR},
      </if>
      <if test="record.departmentId != null">
        DEPARTMENT_ID = #{record.departmentId,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderBirthday != null">
        CARDHOLDER_BIRTHDAY = #{record.cardholderBirthday,jdbcType=CHAR},
      </if>
      <if test="record.cardholderGender != null">
        CARDHOLDER_GENDER = #{record.cardholderGender,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderSalutation != null">
        CARDHOLDER_SALUTATION = #{record.cardholderSalutation,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderFunction != null">
        CARDHOLDER_FUNCTION = #{record.cardholderFunction,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderSegment != null">
        CARDHOLDER_SEGMENT = #{record.cardholderSegment,jdbcType=VARCHAR},
      </if>
      <if test="record.cardholderState != null">
        CARDHOLDER_STATE = #{record.cardholderState,jdbcType=CHAR},
      </if>
      <if test="record.closeDate != null">
        CLOSE_DATE = #{record.closeDate,jdbcType=CHAR},
      </if>
      <if test="record.cardholderComment != null">
        CARDHOLDER_COMMENT = #{record.cardholderComment,jdbcType=VARCHAR},
      </if>
      <if test="record.vid != null">
        VID = #{record.vid,jdbcType=VARCHAR},
      </if>
      <if test="record.plateNumber != null">
        PLATE_NUMBER = #{record.plateNumber,jdbcType=VARCHAR},
      </if>
      <if test="record.driverLicence != null">
        DRIVER_LICENCE = #{record.driverLicence,jdbcType=VARCHAR},
      </if>
      <if test="record.createUser != null">
        CREATE_USER = #{record.createUser,jdbcType=VARCHAR},
      </if>
      <if test="record.createTime != null">
        CREATE_TIME = #{record.createTime,jdbcType=CHAR},
      </if>
      <if test="record.modifyUser != null">
        MODIFY_USER = #{record.modifyUser,jdbcType=VARCHAR},
      </if>
      <if test="record.modifyTime != null">
        MODIFY_TIME = #{record.modifyTime,jdbcType=CHAR},
      </if>
      <if test="record.dataState != null">
        DATA_STATE = #{record.dataState,jdbcType=CHAR},
      </if>
      <if test="record.memberId != null">
        MEMBER_ID = #{record.memberId,jdbcType=VARCHAR},
      </if>
      <if test="record.mailingAddress != null">
        MAILING_ADDRESS = #{record.mailingAddress,jdbcType=VARCHAR},
      </if>
      <if test="record.checkState != null">
        CHECK_STATE = #{record.checkState,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 25 10:05:50 CST 2016.
    -->
    update SVC_MNG.TB_CARDHOLDER
    set CARDHOLDER_ID = #{record.cardholderId,jdbcType=VARCHAR},
      ENTITY_ID = #{record.entityId,jdbcType=VARCHAR},
      LAST_NAME = #{record.lastName,jdbcType=VARCHAR},
      FIRST_NAME = #{record.firstName,jdbcType=VARCHAR},
      ID_TYPE = #{record.idType,jdbcType=VARCHAR},
      ID_NO = #{record.idNo,jdbcType=VARCHAR},
      CARDHOLDER_MOBILE = #{record.cardholderMobile,jdbcType=VARCHAR},
      CARDHOLDER_EMAIL = #{record.cardholderEmail,jdbcType=VARCHAR},
      EXTERNAL_ID = #{record.externalId,jdbcType=VARCHAR},
      DEPARTMENT_ID = #{record.departmentId,jdbcType=VARCHAR},
      CARDHOLDER_BIRTHDAY = #{record.cardholderBirthday,jdbcType=CHAR},
      CARDHOLDER_GENDER = #{record.cardholderGender,jdbcType=VARCHAR},
      CARDHOLDER_SALUTATION = #{record.cardholderSalutation,jdbcType=VARCHAR},
      CARDHOLDER_FUNCTION = #{record.cardholderFunction,jdbcType=VARCHAR},
      CARDHOLDER_SEGMENT = #{record.cardholderSegment,jdbcType=VARCHAR},
      CARDHOLDER_STATE = #{record.cardholderState,jdbcType=CHAR},
      CLOSE_DATE = #{record.closeDate,jdbcType=CHAR},
      CARDHOLDER_COMMENT = #{record.cardholderComment,jdbcType=VARCHAR},
      VID = #{record.vid,jdbcType=VARCHAR},
      PLATE_NUMBER = #{record.plateNumber,jdbcType=VARCHAR},
      DRIVER_LICENCE = #{record.driverLicence,jdbcType=VARCHAR},
      CREATE_USER = #{record.createUser,jdbcType=VARCHAR},
      CREATE_TIME = #{record.createTime,jdbcType=CHAR},
      MODIFY_USER = #{record.modifyUser,jdbcType=VARCHAR},
      MODIFY_TIME = #{record.modifyTime,jdbcType=CHAR},
      DATA_STATE = #{record.dataState,jdbcType=CHAR},
      MEMBER_ID = #{record.memberId,jdbcType=VARCHAR},
      MAILING_ADDRESS = #{record.mailingAddress,jdbcType=VARCHAR},
      CHECK_STATE = #{record.checkState,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  
   <select id="selectCardHolderByCardNo" parameterType="java.lang.String" resultMap="BaseResultMap">

        select 
        cardHolder.cardholder_id as "CARDHOLDER_ID",
        cardHolder.first_name as "FIRST_NAME" , 
        cardHolder.id_no as "ID_NO", 
        cardHolder.id_type as "ID_TYPE", 
        cardHolder.cardholder_mobile as "CARDHOLDER_MOBILE" 
        from tb_sell_order ord,tb_sell_order_card_list cardList,tb_cardholder cardHolder 
     where (ord.order_state = '32' or ord.order_state is null) and cardList.DATA_STATE = '1' and cardList.Card_No=#{cardNo,jdbcType=VARCHAR} and cardList.Cardholder_Id=cardHolder.Cardholder_Id
      and ord.order_id=cardList.Order_Id order by ord.modify_time desc
  </select>
</mapper>